<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

{# make a "name" variable #}
{% set name=artist.data['name'] %}

<head>
    <title>MusicBrainz Artist: {{ name }}</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta name="generator" content="Geany 1.22" />
    <style>
        div {
            border:1px solid grey;
            padding:1em;
            margin:10px;
        }
    </style>
    <script src="{{ url_for('static', filename='scripts/artist.js') }}" type="text/javascript"></script>
</head>

<body>
    <div id="header"><h1>A Basic Bottled Artist</h1></div>
    <div id="content">
        <h2>{{name}} &mdash;<span style="font-size:smaller">{{artist.data['disambiguation']}}</span></h2>
        Number of official album releases: {{artist.releases['release-count']}}
        <p>{{ artist.wikipedia }}</p>
        <table style="width:100%;">
            <tr>
            {% set i = 0 %} {# This would probably be better in JS #}
            {% for a in artist.releases['releases'] %}
                {% set i = i + 1 %}
                {% if i > 8 %}
                    {% set i = 1 %}
                    </tr>
                    <tr>
                {% endif %}
            
                <td style="width:12.5%;">
                    <a href="../release/{{a.id}}">
                    <img style="display:block; margin-left:auto; margin-right:auto;" src="http://coverartarchive.org/release/{{a.id}}/front-250" width="100%" onerror='onImageError("{{ url_for('static', filename='images/') }}", this)'></img>
                    </a>
		    </br>
                    <div style="text-align:center; padding:0; height:3em; border:0px;">{{a.title}}</div>
               </td>
            {% endfor %}
            </tr>
        </table>
    </div>
    <div id="debug">
        <h3>Debug information</h3>
        <h4>Dump as defintion list</h4>
        <dl>
            {% for v in artist.data %}
                <dt>{{v}}</dt>
                    <dd>{{artist.data[v]}}</dd>
            {% endfor %}
        </dl>
        <h4>Raw dump of artist.data</h4>
        <p>{{artist.data}}</p>
    </div>
    <div id="footer">
        <p>&copy;2012</p>
    </div>
</body>

</html>
